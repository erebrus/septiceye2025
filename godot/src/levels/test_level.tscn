[gd_scene load_steps=13 format=3 uid="uid://cc82ulrvcacy5"]

[ext_resource type="PackedScene" uid="uid://lqtollaovard" path="res://src/base_level.tscn" id="1_1ky7t"]
[ext_resource type="Script" uid="uid://bfef4h1fj64rt" path="res://src/systems/rules/rule.gd" id="2_7hvae"]
[ext_resource type="Resource" uid="uid://p436vlmmyqd0" path="res://src/resources/rules/scheduled_rule.tres" id="3_t1chq"]
[ext_resource type="Script" uid="uid://bm8uyy561ekt6" path="res://src/systems/rules/trait_rule.gd" id="4_45v6v"]
[ext_resource type="Script" uid="uid://bbst45rxgww2y" path="res://src/systems/rules/ruleset.gd" id="5_q3sum"]
[ext_resource type="PackedScene" uid="uid://c5pd6lnbms1ig" path="res://src/ui/clock.tscn" id="6_t1chq"]

[sub_resource type="Resource" id="Resource_202rx"]
script = ExtResource("4_45v6v")
target = 2
allowed_values = [2]
description = "Only people with properly orange hair will go to heaven"
met_destinations = Array[int]([1, 2, 3, 4, 0])
unmet_destinations = Array[int]([2, 3, 4, 0])
metadata/_custom_type_script = "uid://bm8uyy561ekt6"

[sub_resource type="Resource" id="Resource_7hvae"]
script = ExtResource("4_45v6v")
target = 4
allowed_values = [1]
religion = 1
description = "Followers of the Snail religion must wear a symbol of their faith on their clothes or go to eternal purgatory"
met_destinations = Array[int]([0, 1, 2, 4])
unmet_destinations = Array[int]([0, 3])
metadata/_custom_type_script = "uid://bm8uyy561ekt6"

[sub_resource type="Resource" id="Resource_t1chq"]
script = ExtResource("2_7hvae")
religion = 2
description = "Followers of the Star deserve heaven"
met_destinations = Array[int]([0, 1, 2, 3, 4])
metadata/_custom_type_script = "uid://bfef4h1fj64rt"

[sub_resource type="Resource" id="Resource_45v6v"]
script = ExtResource("2_7hvae")
religion = 3
description = "The Order of Tea sends its followers to heaven"
met_destinations = Array[int]([0, 1, 2, 3, 4])
metadata/_custom_type_script = "uid://bfef4h1fj64rt"

[sub_resource type="Resource" id="Resource_q3sum"]
script = ExtResource("2_7hvae")
religion = 4
description = "Luminara may go to heaven"
met_destinations = Array[int]([0, 1, 2, 3, 4])
metadata/_custom_type_script = "uid://bfef4h1fj64rt"

[sub_resource type="Resource" id="Resource_b7rnw"]
script = ExtResource("5_q3sum")
rules = Array[ExtResource("2_7hvae")]([ExtResource("3_t1chq"), SubResource("Resource_202rx"), SubResource("Resource_7hvae"), SubResource("Resource_t1chq"), SubResource("Resource_45v6v"), SubResource("Resource_q3sum")])
metadata/_custom_type_script = "uid://bbst45rxgww2y"

[node name="BaseLevel" instance=ExtResource("1_1ky7t")]
quotas = Dictionary[int, int]({
0: 2,
1: 1,
4: 1
})
ruleset = SubResource("Resource_b7rnw")

[node name="Clock" parent="." index="13" instance=ExtResource("6_t1chq")]
offset_left = 1554.0
offset_top = 62.0
offset_right = 1554.0
offset_bottom = 62.0

[connection signal="timeout" from="Clock" to="." method="_on_clock_timeout"]
